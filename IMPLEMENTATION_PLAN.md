# 热点信息聚合系统 - 架构说明

## 项目概述

通过 GitHub Actions 定时触发，使用 AI 抓取和分析多平台热点信息，生成 HTML 报告并部署到 GitHub Pages。

## 技术栈

- **运行环境**: GitHub Actions (Ubuntu)
- **编程语言**: Python 3.11+
- **AI 处理**: LiteLLM 统一接口（支持 Qwen3-8B、GLM-4-Flash 等免费模型）
- **Prompt 管理**: 任务驱动的配置系统
- **部署**: GitHub Pages

## 数据源

| 数据源 | 状态 | 数量 | 说明 |
|--------|------|------|------|
| RSS | ✅ 启用 | 7源 | Hacker News、TechCrunch、The Verge、NYTimes、3个YouTube频道 |
| Twitter | ✅ 启用 | 4词 | AI、ChatGPT、LLM、机器学习 |
| YouTube | ✅ 启用 | 3词 | AI、ChatGPT、LLM |
| Reddit | ⏸️ 禁用 | 4板块 | 代码已完成，待OAuth认证 |

## 系统架构

```
┌─────────────────────────────────────────────────────────────┐
│                    GitHub Actions (定时触发)                  │
└─────────────────────────────────────────────────────────────┘
                              │
                              ▼
┌─────────────────────────────────────────────────────────────┐
│                      数据采集层 (Collectors)                  │
│  ┌─────────┐ ┌─────────┐ ┌─────────┐ ┌─────────┐           │
│  │   RSS   │ │ Twitter │ │ YouTube │ │ Reddit  │           │
│  └─────────┘ └─────────┘ └─────────┘ └─────────┘           │
└─────────────────────────────────────────────────────────────┘
                              │
                              ▼
┌─────────────────────────────────────────────────────────────┐
│                      AI 处理层 (Processors)                   │
│  ┌─────────────────┐  ┌─────────────────────────┐          │
│  │  PromptManager  │──│  APIProcessor (LiteLLM) │          │
│  └─────────────────┘  └─────────────────────────┘          │
└─────────────────────────────────────────────────────────────┘
                              │
                              ▼
┌─────────────────────────────────────────────────────────────┐
│                      输出层 (Generators)                      │
│  ┌─────────────────┐  ┌─────────────────────────┐          │
│  │  HTMLGenerator  │──│     GitHub Pages        │          │
│  └─────────────────┘  └─────────────────────────┘          │
└─────────────────────────────────────────────────────────────┘
```

## 核心模块

| 模块 | 路径 | 说明 |
|------|------|------|
| 配置管理 | `src/config.py` | 加载 YAML 配置 |
| Prompt 管理 | `src/prompts/` | 任务驱动的 Prompt 系统 |
| 数据采集 | `src/collectors/` | RSS/Twitter/YouTube/Reddit |
| AI 处理 | `src/processors/` | LiteLLM 统一接口 |
| 报告生成 | `src/generators/` | HTML 报告 |

## 配置文件

| 文件 | 说明 |
|------|------|
| `config/config.yaml` | 主配置（数据源、AI模型） |
| `config/prompts.yaml` | Prompt 配置（5种任务） |

## 使用方式

```bash
# 本地运行
python -m src.main

# 指定配置
python -m src.main --config config/config.yaml

# 指定模式
python -m src.main --mode api
```

## 相关文档

- [更新日志](CHANGELOG.md)
- [差距分析](GAP_ANALYSIS.md)
